!function($){"use strict";var t={};if(t.product_quantity_add_to_cart=function(){$(".w-minus").on("click",function(){var t=$(this).parent().find("input"),o=parseInt(t.val(),10);o>1&&t.val(o-1),$("[name='update_cart']").prop("disabled",!1)}),$(".w-plus").on("click",function(){var t=$(this).parent().find("input"),o=parseInt(t.val(),10);o!=parseInt(t.prop("max"))&&(t.val(o+1),$("[name='update_cart']").prop("disabled",!1))})},t.product_carousel=function(t,o){if(0!=o||t.hasClass("has-product-slider")){var e=!1,a=!1,i=!0,n=!1;$(document.body).hasClass("rtl")&&(n=!0),t.hasClass("gallery-vertical")&&(e=!0,a=!0,i=!1,n=!1),t.find(".w-img-crs").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!1,asNavFor:t.find(".w-thumb-crs"),vertical:e,variableWidth:i,verticalSwiping:a,rtl:n,responsive:[{breakpoint:991,settings:{vertical:!1,verticalSwiping:!1,variableWidth:!0,arrows:!1}},{breakpoint:600,settings:{vertical:!1,verticalSwiping:!1,variableWidth:!1,arrows:!1}}]}),t.find(".w-thumb-crs").slick({infinite:!1,slidesToShow:5,slidesToScroll:1,dots:!1,arrows:!1,focusOnSelect:!0,asNavFor:t.find(".w-img-crs"),vertical:e,variableWidth:i,verticalSwiping:a,rtl:n,responsive:[{breakpoint:991,settings:{vertical:!1,verticalSwiping:!1,variableWidth:!0}}]})}},t.image_variation_zoom=function(){if($(".single-product").length&&$(".w-images-box.w-layout-slider").length&&$(".ez-zoom").length){var t=$(document.body).find(".w-img-item:eq(0)").easyZoom(),o=t.data("easyZoom");o.teardown(),o._init()}},t.gotofirst=function(){$("#ht-quick-view-popup.ht-qvp-open").length?$("#ht-quick-view-popup .w-img-crs.slick-initialized").slick("slickGoTo",0):$("#main .w-img-crs.slick-initialized").slick("slickGoTo",0)},t.product_variation=function(){var o=$(document.body).find(".product"),e=o.find(".w-img-item:eq(0)"),a=e.find("img").prop("src"),i=e.data("zoom"),n=o.find(".w-thumb-item:eq(0)"),s=n.find("img").prop("src");t.image_variation_zoom(),$(document).on("found_variation","form.variations_form",function(o,a){var i=a.image.full_src,s=a.image.thumb_src;e.find("img").prop("src",i),n.find("img").prop("src",s),e.attr("data-zoom",i),t.image_variation_zoom(),t.gotofirst()}),$(".reset_variations").on("click",function(o){o.preventDefault(),e.find("img").prop("src",a),n.find("img").prop("src",s),e.attr("data-zoom",i),t.image_variation_zoom(),t.gotofirst()})},t.mega_menu=function(){if(0!=$(".mega-menu-row").length){var t=$(window).width();t<992||$(".mega-menu-row").each(function(){var o=$(".mega-menu-col",this).length,e=$(this),a=e.closest(".menu-item-has-mega-menu").offset().left,i=function(){e.addClass("mega-changed-position").removeClass("mega-static")},n=function(){e.parent().addClass("mega-static")};if(1==o)var s="mega-1-col",r=250;else if(2==o)var s="mega-2-col",r=450;else if(3==o)var s="mega-3-col",r=725;else{var s="mega-standard";e.parent().addClass("mega-static")}e.addClass(s),t-a<r&&(a<r?n():i())})}},$(document.body).on("click",".btn-switcher",function(){var t=$(this),o=t.data("style"),e=t.closest(".theme-product-block");t.addClass("active").siblings().removeClass("active"),e.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+o)}),$(".is-page-loading").length&&(NProgress.configure({template:'<div class="bar" role="bar"></div>',parent:"#page-loader",showSpinner:!0,easing:"ease",minimum:.3,speed:500}),NProgress.start()),t.swatches_list=function(){$(document.body).on("click",".p-attr-swatch",function(){var t,o=$(this),e=o.data("src"),a=o.closest(".p-col"),i=a.find(".p-image"),n=i.find("img"),s=a.find(".p-image").data("ori_src");o.hasClass("active")?(t=s,o.removeClass("active")):(t=e,o.addClass("active").siblings().removeClass("active")),n.prop("src")!=t&&(i.addClass("image-is-loading"),n.prop("src",t).one("load",function(){i.removeClass("image-is-loading")}))})},t.qv_close=function(){var t=$(document.body).find("#ht-quick-view-popup"),o=t.find(".ht-qvo"),e=t.find("#ht-qvc");$(document.body).removeClass("quickview-on"),t.removeClass("ht-qvp-open").addClass("ht-qvp-ready"),setTimeout(function(){t.find(".product").remove()},400)},t.product_type_subscription=function(){var t=$(document.body).find(".single_add_to_cart_button"),o=t.closest(".product");(o.hasClass("product-type-subscription")||o.hasClass("product-type-variable-subscription"))&&t.addClass("subscription-btn-not-ajax")},t.product_quick_view_content=function(){if(0!=$("#ht-quick-view-popup").length){var o=$(document.body).find("#ht-quick-view-popup"),e=o.find(".quick-view-box"),a=o.find(".ht-qvo"),i=o.find("#ht-qvc");a.on("click",function(o){t.qv_close()}),$(document.body).keyup(function(o){27===o.keyCode&&t.qv_close()}),i.on("click",function(o){o.preventDefault(),t.qv_close()}),$(document.body).on("click",".quick-view-btn",function(a){a.preventDefault(),o.addClass("ht-qvp-loading"),$(document.body).addClass("quickview-on");var i=$(this).data("id");$.ajax({type:"POST",url:admin_ajax.url,data:{action:"quickview_action",product_id:i},success:function(a){var i=$(a),n=i.find(".variations_form");$(a).find("#product-lightbox").length&&$(document.body).on("click","#product-lightbox a.w-img-item",function(t){t.preventDefault()}),e.append(i),o.removeClass("ht-qvp-loading").addClass("ht-qvp-open"),"undefined"!=typeof wc_add_to_cart_variation_params&&(n.wc_variation_form(),n.find(".variations select").change()),void 0!==$.fn.tawcvs_variation_swatches_form&&n.tawcvs_variation_swatches_form(),t.product_carousel($("#ht-quick-view-popup"),!0),t.product_quantity_add_to_cart(),t.product_variation()},complete:function(){t.product_type_subscription()}})})}},t.blog_load_more_btn=function(){$(".blog-data.data-btn").length&&$(".btn-load-more-post").on("click",function(t){t.preventDefault();var o=$(this);o.addClass("btn-is-loading"),$.ajax({url:admin_ajax.url,type:"post",data:{action:"blog_posts_action",query:blog_posts_data.posts,page:blog_posts_data.current_page},beforeSend:function(t){o.text(blog_posts_data.loading_text)},success:function(t){t?(o.text(blog_posts_data.load_more_posts).removeClass("btn-is-loading").prev().after(t),++blog_posts_data.current_page==blog_posts_data.max_page&&o.addClass("is-done").text(blog_posts_data.no_posts_found).off()):o.addClass("is-done").text(blog_posts_data.no_posts_found).off()}})})},$(".blog-data.data-scroll").length)var o=!0,e=$(".blog-data.data-scroll"),a=e.find(".el-loading");t.blog_infinite_scroll=function(){$(".blog-data.data-scroll").length&&$(".el-loading").inViewport(function(){1==o&&$.ajax({url:admin_ajax.url,data:{action:"blog_posts_action",query:blog_posts_data.posts,page:blog_posts_data.current_page},type:"POST",beforeSend:function(t){o=!1,a.text(blog_posts_data.loading_text),setTimeout(function(){a.addClass("is-visible")},300)},success:function(t){t&&(setTimeout(function(){e.find(".blog-article:last-of-type").after(t)},500),o=!0,++blog_posts_data.current_page==blog_posts_data.max_page&&(a.text(blog_posts_data.no_posts_found).addClass("is-done"),setTimeout(function(){e.find(".el-loading").remove()},500))),setTimeout(function(){a.removeClass("is-visible")},300)}})})},t.single_add_to_cart=function(){t.product_type_subscription(),$(document.body).on("click",".single_add_to_cart_button",function(o){if(!$(this).hasClass("subscription-btn-not-ajax")&&(o.preventDefault(),!$(this).hasClass("disabled"))){var e=$(this),a=e.data("stock_qty")||0,i,n=e.prev(),s=n.data("out_of_stock"),r=n.data("not_enough"),d=e.closest("form.cart"),c=e.closest("form.variations_form"),l=c.find('input[name="variation_id"]').val(),u=d.find('input[name="mwb_wpr_pro_cost_to_points"]'),m=$(document.body).find(".cart-sidebar-content"),p=$(document.body).find(".theme-shopping-cart .counter-cart");if(c.length){if("0"===l||""===l)return;var f,v={},_=c.find("input[name=product_id]").val(),g=c.find('input[name="quantity"]').val();c.find("select[name^=attribute]").each(function(){var t=$(this).prop("name"),o=$(this).val();v[t]=o}),f={action:"atc",product_id:_,variation_id:l,quantity:g,variations:v}}else{var _=e.val(),g=d.find('input[name="quantity"]').val(),f={action:"atc",product_id:_,quantity:g};if(""!=s&&n.val()>=a)return void alert(s);if(""!=s&&+n.val()+ +g>a)return void alert(r)}u.is(":checked")&&(alert("use point to discount!"),f.mwb_wpr_pro_cost_to_points=u.val()),$.ajax({type:"POST",url:admin_ajax.url,data:f,beforeSend:function(){e.addClass("adding-to-cart"),m.html("")},success:function(t){e.removeClass("adding-to-cart");var o=$(t).filter("span.count").html(),a=$(t).filter("span.count").data("current_item_in_cart");n.val(a),p.text(o),m.html(t)},complete:function(){m.find("span.count").remove(),$(document.body).addClass("cart-sidebar-opened"),t.qv_close()}})}})},$(".shopping-cart-icon").on("click",function(t){t.preventDefault(),$(".woocommerce-cart.woocommerce-page").length||$(document.body).addClass("cart-sidebar-opened")}),$(document.body).on("added_to_cart",function(){$(this).addClass("cart-sidebar-opened")}),$(".ht-cart-overlay, .cart-sidebar-close-btn").on("click",function(){$(document.body).removeClass("cart-sidebar-opened")}),$(document.body).on("click",".remove.remove_from_cart_button",function(t){t.preventDefault(),$(this).closest(".cart-sidebar-content").addClass("cart-removing")}),t.woo_top_sort_oder=function(){$(".woocommerce-ordering .orderby").length&&($(window).width()>480?$(".woocommerce-ordering .orderby").select2({width:230}):$(".woocommerce-ordering .orderby").select2({width:"100%"}))},$(document).ready(function(){t.woo_top_sort_oder(),t.swatches_list(),t.single_add_to_cart(),t.blog_load_more_btn(),$(document.body).on("mouseenter",".fte-sc",function(){$(document.body).find(".fte-sc").addClass("fte-faded"),$(this).removeClass("fte-faded")}).on("mouseleave",".fte-sc",function(){$(document.body).find(".fte-sc").removeClass("fte-faded")});var o=$(document.body).find("#search-form-content"),e=o.find("#ht-search-field"),a=function(){$(document.body).removeClass("search-form-on"),o.removeClass("search-form-open"),e.val("")};$("#ht-search-btn, #sticky-search-btn").on("click",function(){o.addClass("search-form-open"),e.focus(),$(document.body).addClass("search-form-on")}),o.on("click",function(t){t.target===this&&a()}),$(document).keyup(function(t){27!==t.keyCode&&13!==t.keyCode||a()}),t.product_variation(),$(document.body).on("updated_cart_totals",function(){t.product_quantity_add_to_cart()}),t.product_quantity_add_to_cart(),t.product_quick_view_content(),document.body.className.match(".single-format-video")&&plyr.setup(),$(".vd-play").on("click",function(t){var o=t.target.className;~o.indexOf("vimeo")&&BigPicture({el:t.target,vimeoSrc:t.target.getAttribute("vimeoSrc")}),~o.indexOf("youtube")&&BigPicture({el:t.target,ytSrc:t.target.getAttribute("ytSrc")})}),$("#topbar-toggle").on("click",function(){$(".theme-topbar").slideToggle("fast")}),$(".p-wl-btn").on("click",function(){var t=$(this);t.addClass("p-wl-btn-clicked"),setTimeout(function(){t.addClass("p-wl-btn-done")},2e3)}),$(".scroll-to-top").on("click",function(){$("html, body").animate({scrollTop:0},300)})}),$(window).on("beforeunload",function(){$(".is-page-loading").length&&$("#theme-container").addClass("is-loading").removeClass("is-ready")}),window.onpageshow=function(t){t.persisted&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&window.location.reload()},$(window).on("load",function(){if($(".is-page-loading").length&&($("#theme-container").addClass("is-ready").removeClass("is-loading"),NProgress.done()),document.getElementsByClassName("blog-news-masonry").length)var o=new Masonry(".blog-news-masonry",{itemSelector:".blog-article",gutter:".gutter-sizer"});t.mega_menu(),t.product_carousel($("#main"),!1),$(".ez-zoom").length&&enquire.register("screen and (min-width:992px)",{match:function(){$(".ez-zoom").easyZoom()},unmatch:function(){$(".ez-zoom").easyZoom().data("easyZoom").teardown()}}),$(".theme-testi").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,arrows:!0,dots:!1,fade:!1}),$(".pf-gallery").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,infinite:!1,fade:!1,adaptiveHeight:!0}),enquire.register("screen and (max-width:991px)",{match:function(){$(".theme-menu-responsive").ht_menu({resizeWidth:"991",initiallyVisible:!1,animSpeed:"fast",easingEffect:"linear"})}}),$("#sidebar-menu-btn").length&&($(document.body).addClass("has-sidebar-menu"),$(document.body).on("click","#sidebar-menu-btn, .sb-panel-overlay",function(){$("#sidebar-menu-btn, .sb-panel-overlay, .box-sidebar-menu").toggleClass("active"),$(".sb-panel-overlay").hasClass("active")?($(".sb-panel-overlay").fadeIn(),$(document.body).addClass("sidebar-menu-opened")):($(".sb-panel-overlay").fadeOut(),$(document.body).removeClass("sidebar-menu-opened"))})),enquire.register("screen and (min-width:992px)",{match:function(){$(".theme-sidebar-menu").accordion()}}),$(".theme-imgs-crs").slick({slidesToShow:4,slidesToScroll:1,infinite:!0,arrows:!0,dots:!1,fade:!1,variableWidth:!0,responsive:[{breakpoint:992,settings:{slidesToShow:2,variableWidth:!1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!0,variableWidth:!1}}]}),$("#p-loading").fadeOut("slow"),$(".p-circular").fadeOut(),$(".comment-list .comment-item:last").addClass("the-last-comment")}),$(window).on("resize",function(){t.woo_top_sort_oder(),t.mega_menu()}),$(window).on("scroll",function(){t.blog_infinite_scroll(),$(this).scrollTop()>100?$(".scroll-to-top").addClass("scroll-visible"):$(".scroll-to-top").removeClass("scroll-visible"),$(document.body).hasClass("has-mobile-sticky-menu")&&($(this).scrollTop()>46?$(document.body).addClass("sticky-mobile"):$(document.body).removeClass("sticky-mobile"))})}(jQuery);